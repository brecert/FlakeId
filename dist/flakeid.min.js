export class FlakeId{constructor({seq=0,mid=1n,timeOffset=0,lastTime=0}={}){if(mid>1023)throw Error(`'mid' cannot be larger than MID_MAX: ${mid} > 1023`);this.seq=seq,this.mid=mid,this.timeOffset=timeOffset,this.lastTime=lastTime}gen(){let time=Date.now();if(this.lastTime==time){if(this.seq+=1,this.seq>4095){for(this.seq=0;Date.now()<=time;);time=Date.now()}}else this.seq=0;return this.lastTime=time,BigInt(time)<<22n|this.mid<<12n|BigInt(this.seq)}}export default FlakeId;

//# sourceMappingURL=flakeid.min.js.map